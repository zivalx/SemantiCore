# Render deployment configuration
# Deploys: Web service (app) + Private service (Neo4j)

services:
  # SemantiCore Application
  - type: web
    name: semanticore
    env: docker
    dockerfilePath: ./Dockerfile
    region: oregon
    plan: starter
    healthCheckPath: /_stcore/health
    envVars:
      - key: NEO4J_URI
        value: bolt://semanticore-neo4j:7687
      - key: NEO4J_USER
        value: neo4j
      - key: NEO4J_PASSWORD
        sync: false  # Set in Render dashboard
      - key: LLM_PROVIDER
        value: anthropic
      - key: ANTHROPIC_API_KEY
        sync: false  # Set in Render dashboard
      - key: ANTHROPIC_MODEL
        value: claude-3-5-sonnet-20241022

  # Neo4j Database (Private Service)
  - type: pserv
    name: semanticore-neo4j
    env: docker
    dockerfilePath: ./Dockerfile.neo4j
    plan: starter
    disk:
      name: neo4j-data
      mountPath: /data
      sizeGB: 10
    envVars:
      - key: NEO4J_AUTH
        sync: false  # neo4j/password format
